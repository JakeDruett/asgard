{
  "description": "Sample query execution times for database performance analysis",
  "collection_period": {
    "start": "2024-06-20T14:00:00Z",
    "end": "2024-06-20T15:00:00Z"
  },
  "database": {
    "type": "mysql",
    "version": "8.0.35",
    "name": "ecommerce_prod"
  },
  "queries": [
    {
      "query_id": "q001",
      "query_type": "select",
      "query_hash": "a1b2c3d4e5f6",
      "query_template": "SELECT * FROM users WHERE id = ?",
      "execution_time_ms": 2.5,
      "rows_examined": 1,
      "rows_affected": 0,
      "used_index": true,
      "index_name": "PRIMARY",
      "timestamp": "2024-06-20T14:00:15Z"
    },
    {
      "query_id": "q002",
      "query_type": "select",
      "query_hash": "b2c3d4e5f6a1",
      "query_template": "SELECT p.*, c.name as category_name FROM products p JOIN categories c ON p.category_id = c.id WHERE p.status = ? LIMIT ?",
      "execution_time_ms": 45.8,
      "rows_examined": 2500,
      "rows_affected": 0,
      "used_index": true,
      "index_name": "idx_products_status",
      "timestamp": "2024-06-20T14:00:22Z"
    },
    {
      "query_id": "q003",
      "query_type": "select",
      "query_hash": "c3d4e5f6a1b2",
      "query_template": "SELECT * FROM orders WHERE user_id = ? ORDER BY created_at DESC LIMIT ?",
      "execution_time_ms": 12.3,
      "rows_examined": 150,
      "rows_affected": 0,
      "used_index": true,
      "index_name": "idx_orders_user_id",
      "timestamp": "2024-06-20T14:00:35Z"
    },
    {
      "query_id": "q004",
      "query_type": "insert",
      "query_hash": "d4e5f6a1b2c3",
      "query_template": "INSERT INTO orders (user_id, status, subtotal, tax, total, currency) VALUES (?, ?, ?, ?, ?, ?)",
      "execution_time_ms": 8.5,
      "rows_examined": 0,
      "rows_affected": 1,
      "used_index": false,
      "timestamp": "2024-06-20T14:01:05Z"
    },
    {
      "query_id": "q005",
      "query_type": "select",
      "query_hash": "e5f6a1b2c3d4",
      "query_template": "SELECT * FROM products WHERE name LIKE ?",
      "execution_time_ms": 850.2,
      "rows_examined": 45000,
      "rows_affected": 0,
      "used_index": false,
      "index_name": null,
      "timestamp": "2024-06-20T14:01:15Z",
      "is_slow_query": true
    },
    {
      "query_id": "q006",
      "query_type": "update",
      "query_hash": "f6a1b2c3d4e5",
      "query_template": "UPDATE product_inventory SET quantity = quantity - ?, reserved = reserved + ? WHERE product_id = ?",
      "execution_time_ms": 15.2,
      "rows_examined": 1,
      "rows_affected": 1,
      "used_index": true,
      "index_name": "uk_product_inventory_product_id",
      "timestamp": "2024-06-20T14:01:22Z"
    },
    {
      "query_id": "q007",
      "query_type": "select",
      "query_hash": "a1b2c3d4e5f7",
      "query_template": "SELECT COUNT(*) FROM order_items WHERE order_id IN (SELECT id FROM orders WHERE created_at > ?)",
      "execution_time_ms": 1250.5,
      "rows_examined": 125000,
      "rows_affected": 0,
      "used_index": false,
      "timestamp": "2024-06-20T14:02:00Z",
      "is_slow_query": true
    },
    {
      "query_id": "q008",
      "query_type": "delete",
      "query_hash": "b2c3d4e5f6a2",
      "query_template": "DELETE FROM cart_items WHERE cart_id = ?",
      "execution_time_ms": 5.8,
      "rows_examined": 8,
      "rows_affected": 8,
      "used_index": true,
      "index_name": "idx_cart_items_cart_id",
      "timestamp": "2024-06-20T14:02:15Z"
    }
  ],
  "aggregated_metrics": {
    "total_queries": 8,
    "total_execution_time_ms": 2190.8,
    "average_execution_ms": 273.85,
    "median_execution_ms": 13.75,
    "p95_execution_ms": 1050.35,
    "p99_execution_ms": 1225.45,
    "max_execution_ms": 1250.5,
    "min_execution_ms": 2.5,
    "slow_query_count": 2,
    "slow_query_threshold_ms": 500
  },
  "by_type": {
    "select": {
      "count": 5,
      "total_time_ms": 2160.3,
      "avg_time_ms": 432.06,
      "rows_examined": 172651
    },
    "insert": {
      "count": 1,
      "total_time_ms": 8.5,
      "avg_time_ms": 8.5,
      "rows_affected": 1
    },
    "update": {
      "count": 1,
      "total_time_ms": 15.2,
      "avg_time_ms": 15.2,
      "rows_affected": 1
    },
    "delete": {
      "count": 1,
      "total_time_ms": 5.8,
      "avg_time_ms": 5.8,
      "rows_affected": 8
    }
  },
  "index_usage": {
    "queries_with_index": 5,
    "queries_without_index": 3,
    "index_usage_rate": 0.625
  },
  "scan_efficiency": {
    "total_rows_examined": 172660,
    "total_rows_returned": 2660,
    "scan_to_return_ratio": 64.9
  },
  "expected_recommendations": [
    "Add index on products.name for LIKE queries",
    "Rewrite subquery in q007 to use JOIN for better performance",
    "Index usage is 62.5% - consider adding indexes for unindexed queries"
  ]
}
